:root {
  --bg: #0f172a;
  --bg-alt: #162236;
  --card: rgba(255,255,255,0.05);
  --card-border: rgba(255,255,255,0.08);
  --primary: #2563eb;
  --primary-hover: #1d4ed8;
  --accent: #10b981;
  --accent-hover: #059669;
  --danger: #dc2626;
  --danger-hover: #b91c1c;
  --text: #e2e8f0;
  --text-dim: #94a3b8;
  --focus: #38bdf8;
  --radius: 14px;
  --shadow: 0 4px 18px -4px rgba(0,0,0,0.55), 0 2px 4px rgba(0,0,0,0.4);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;
}

* { box-sizing: border-box; }
html,body { height:100%; margin:0; }
body {
  background: radial-gradient(circle at 30% 30%, #132238 0%, #0f172a 70%);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

.site-header, .site-footer {
  text-align:center;
  padding: 12px 8px;
  letter-spacing:.5px;
}
.site-header .logo { margin:0; font-size:1.75rem; font-weight:600; }

.center-wrapper {
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: clamp(1rem,2vw,2.5rem);
}

.auth-card {
  width: min(420px, 100%);
  background: linear-gradient(140deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
  border:1px solid var(--card-border);
  backdrop-filter: blur(18px) saturate(140%);
  border-radius: var(--radius);
  padding: 1.25rem 1.5rem 1.75rem;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  gap:1rem;
  position:relative;
  animation: fadeIn .5s ease;
}

@keyframes fadeIn { from { opacity:0; transform:translateY(8px);} to {opacity:1; transform:none;} }

.auth-tabs {
  display:flex;
  border:1px solid var(--card-border);
  border-radius: 10px;
  padding:4px;
  gap:4px;
  background: rgba(255,255,255,0.07);
}

.auth-tab {
  flex:1;
  background:transparent;
  border:0;
  padding:.6rem .75rem;
  font-weight:600;
  letter-spacing:.3px;
  color:var(--text-dim);
  border-radius:8px;
  cursor:pointer;
  font-size:.95rem;
  transition:.25s;
  position:relative;
}
.auth-tab.active {
  background: linear-gradient(145deg,var(--primary) 0%, #1e3a8a 95%);
  color:#fff;
  box-shadow:0 0 0 1px rgba(255,255,255,0.15), 0 4px 10px -2px rgba(0,0,0,.4);
}
.auth-tab:not(.active):hover { color: var(--text); }

.auth-form { display:none; flex-direction:column; gap:.95rem; }
.auth-form.active { display:flex; }

.field { display:flex; flex-direction:column; gap:.35rem; }
.field label { font-size:.8rem; text-transform:uppercase; letter-spacing:.08em; font-weight:600; color:var(--text-dim); }
.field .note { font-weight:400; opacity:.8; font-size:.65rem; text-transform:none; }
.field input {
  padding:.65rem .75rem;
  background:rgba(255,255,255,0.07);
  border:1px solid rgba(255,255,255,0.15);
  border-radius:8px;
  color:var(--text);
  font:inherit;
  outline:none;
  transition:border .2s, background .2s;
}
.field input:focus {
  border-color: var(--focus);
  box-shadow:0 0 0 3px rgba(56,189,248,0.25);
  background:rgba(255,255,255,0.12);
}

.form-footer { margin-top:.25rem; display:flex; flex-direction:column; gap:.75rem; }

.switch-hint {
  margin:0;
  font-size:.8rem;
  text-align:center;
  color:var(--text-dim);
}

.link-btn {
  background:none;
  border:0;
  padding:0;
  color:var(--primary);
  font:inherit;
  cursor:pointer;
  font-weight:600;
}
.link-btn:hover { text-decoration:underline; }

.btn {
  --btn-bg: rgba(255,255,255,0.1);
  --btn-bg-hover: rgba(255,255,255,0.18);
  border:1px solid rgba(255,255,255,0.18);
  background:var(--btn-bg);
  color:var(--text);
  padding:.65rem 1.05rem;
  font:inherit;
  font-weight:600;
  letter-spacing:.4px;
  border-radius:8px;
  cursor:pointer;
  transition: background .2s, transform .15s, box-shadow .2s;
  position:relative;
}
.btn:focus-visible {
  outline:2px solid var(--focus);
  outline-offset:2px;
}
.btn:hover:not(:disabled) {
  background:var(--btn-bg-hover);
}
.btn:active:not(:disabled){
  transform:translateY(1px);
}
.btn:disabled {
  opacity:.55;
  cursor:not-allowed;
}

.btn.primary {
  --btn-bg: linear-gradient(160deg,var(--primary),#1d4ed8);
  --btn-bg-hover: linear-gradient(160deg,var(--primary-hover),#1e40af);
  color:#fff;
  border:1px solid rgba(255,255,255,.2);
  box-shadow:0 3px 10px -2px rgba(0,0,0,.5);
}

.btn.accent {
  --btn-bg: linear-gradient(160deg,var(--accent),#0d9488);
  --btn-bg-hover: linear-gradient(160deg,var(--accent-hover),#0f766e);
  color:#fff;
  border:1px solid rgba(255,255,255,.2);
  box-shadow:0 3px 10px -2px rgba(0,0,0,.5);
}

.btn.danger {
  --btn-bg: linear-gradient(160deg,var(--danger),#b91c1c);
  --btn-bg-hover: linear-gradient(160deg,var(--danger-hover),#991b1b);
  color:#fff;
}

.w-full { width:100%; }

.auth-message {
  min-height: 34px;
  font-size:.8rem;
  line-height:1.2;
  border-radius:8px;
  padding:.55rem .75rem;
  font-weight:500;
  display:none;
}
.auth-message.show { display:block; }
.auth-message.error {
  background:linear-gradient(120deg,#7f1d1d,#451515);
  color:#fecaca;
  border:1px solid #dc2626;
}
.auth-message.success {
  background:linear-gradient(120deg,#064e3b,#0f3d36);
  color:#d1fae5;
  border:1px solid #059669;
}

.game-wrapper {
  flex:1;
  display:flex;
  flex-direction:column;
  gap:1rem;
  padding:1.2rem clamp(.8rem,2vw,2.2rem) 2.2rem;
  max-width:1100px;
  width:100%;
  margin:0 auto;
}

.top-bar {
  display:flex;
  flex-wrap:wrap;
  gap:.75rem;
  align-items:center;
  justify-content:space-between;
  background:var(--card);
  border:1px solid var(--card-border);
  padding:.8rem 1rem;
  border-radius:12px;
  backdrop-filter: blur(10px);
}

.user-badge {
  font-size:.85rem;
  color:var(--text-dim);
  font-weight:600;
  letter-spacing:.5px;
}

.game-actions { display:flex; gap:.6rem; }

.canvas-wrap {
  align-self:center;
  padding:1rem;
  border-radius:16px;
  background:linear-gradient(145deg,rgba(255,255,255,0.07),rgba(255,255,255,0.02));
  border:1px solid var(--card-border);
  box-shadow: var(--shadow);
  position:relative;
}

#game {
  display:block;
  background:#0a1120;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:10px;
}

.status-bar {
  min-height:24px;
  font-size:.85rem;
  color:var(--text-dim);
  text-align:center;
  letter-spacing:.4px;
  margin-top:-.3rem;
}

.site-footer {
  font-size:.7rem;
  opacity:.6;
  letter-spacing:.8px;
  margin-top:auto;
  padding:1rem 0 1.2rem;
}

/* Scrollbars (light subtle) */
::-webkit-scrollbar { width:10px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:#1e293b; border-radius:20px; }
::-webkit-scrollbar-thumb:hover { background:#334155; }

@media (max-width:560px) {
  .auth-card { padding:1rem 1.05rem 1.4rem; }
  .top-bar { flex-direction:column; align-items:stretch; }
  .game-actions { flex-wrap:wrap; justify-content:center; }
  .canvas-wrap { padding:.7rem; }
}